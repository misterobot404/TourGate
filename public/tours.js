(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{209:function(t,e,r){"use strict";var n=r(13);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s={name:"Breadcrumbs",computed:a(a({},Object(n.e)("tours",["breadcrumbs"])),{},{sectionNotRoot:function(){return this.$route.params.id}})},c=r(16),l=r(17),u=r.n(l),d=r(260),f=r(216),v=r(43),p=r(42),b=Object(c.a)(s,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{directives:[{name:"show",rawName:"v-show",value:t.sectionNotRoot,expression:"sectionNotRoot"}],staticStyle:{background:"rgba(30,30,30, 0.4)"},attrs:{flat:"",dark:""}},[r("v-breadcrumbs",{staticClass:"mb-4",attrs:{large:"",items:t.breadcrumbs},scopedSlots:t._u([{key:"item",fn:function(e){var n=e.item;return[r("v-breadcrumbs-item",{staticStyle:{cursor:"pointer"},style:{textShadow:n.href===t.$route.fullPath?"0px 0px 4px rgba(255,255,255,0.3)":"none"},on:{click:function(e){t.$route.fullPath===n.href?t.$router.go(0):t.$router.push(n.href)}}},[t._v("\n                "+t._s(n.text.toUpperCase())+"\n            ")])]}},{key:"divider",fn:function(){return[r("v-icon",[t._v("chevron_right")])]},proxy:!0}])})],1)}),[],!1,null,null,null);e.a=b.exports;u()(b,{VBreadcrumbs:d.a,VBreadcrumbsItem:f.a,VCard:v.a,VIcon:p.a})},257:function(t,e,r){"use strict";r.r(e);var n=r(13),o=r(209);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s={name:"CreateMapDialog",data:function(){return{dialog:!1,loading:!1,name:"",description:"",src:null,successful:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(n.e)("tours",["tours"])),methods:{clearField:function(){this.$refs.form.reset(),this.successful=!1},createMap:function(){var t=this;this.$refs.form.validate()&&(this.loading=!0,this.successful=!1,setTimeout((function(){t.loading=!1,t.successful=!0}),1500))}}},c=r(16),l=r(17),u=r.n(l),d=r(202),f=r(48),v=r(43),p=r(25),b=r(196),g=r(201),m=r(203),h=r(188),O=r(252),y=r(198),_=r(42),j=r(199),w=r(200),x=r(184),C=r(253),k=r(47),P=r(37),V=Object(c.a)(s,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{"max-width":"460"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"mt-2 v-btn--active",attrs:{large:"",rounded:"",text:""}},n),[t._v("\n            Добавить\n        ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),r("v-card",[r("v-toolbar",{staticClass:"pr-1",attrs:{height:"68",flat:""}},[r("v-icon",{staticClass:"mr-2",attrs:{"x-large":"",color:"green darken-2"}},[t._v("\n                add_location\n            ")]),t._v(" "),r("v-toolbar-title",[t._v(" Добавление места ")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-btn",{attrs:{icon:""},on:{click:function(e){t.clearField(),t.dialog=!1}}},[r("v-icon",[t._v("close")])],1)],1),t._v(" "),r("v-divider"),t._v(" "),r("v-card-text",{staticClass:"pb-0"},[r("v-form",{ref:"form"},[r("v-container",{staticClass:"pb-0"},[r("v-alert",{staticClass:"my-2",attrs:{text:"",type:"success",prominent:"",color:"green darken-2"},model:{value:t.successful,callback:function(e){t.successful=e},expression:"successful"}},[t._v("\n                        Спасибо! Место будет добавлено после модерации.\n                    ")]),t._v(" "),r("v-row",[r("v-col",{staticClass:"pb-0 pt-3",attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"Название",filled:"",color:"green darken-2",rules:[function(t){return!!t||"Введите название"},function(e){return null===t.tours||void 0===t.tours.find((function(t){return t.title===e}))||"Это название уже используется"}],required:""},model:{value:t.name,callback:function(e){t.name="string"==typeof e?e.trim():e},expression:"name"}})],1),t._v(" "),r("v-col",{staticClass:"pb-0 pt-1",attrs:{cols:"12"}},[r("v-file-input",{attrs:{label:"Медиа",color:"green darken-3",filled:"",accept:"image/*","prepend-icon":"add_a_photo",rules:[function(t){return!!t||"Добавьте картинку"}],required:""},model:{value:t.src,callback:function(e){t.src=e},expression:"src"}})],1),t._v(" "),r("v-col",{staticClass:"pb-0 pt-1",attrs:{cols:"12"}},[r("v-textarea",{attrs:{filled:"",color:"green darken-2",label:"Описание",rules:[function(t){return!!t||"Введите описание"}],required:""},model:{value:t.description,callback:function(e){t.description="string"==typeof e?e.trim():e},expression:"description"}})],1)],1)],1)],1)],1),t._v(" "),r("v-card-actions",{staticClass:"px-9 pb-4"},[r("v-btn",{attrs:{text:""},on:{click:t.clearField}},[t._v("\n                Очистить\n            ")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-btn",{staticClass:"px-7",attrs:{color:"green darken-1",outlined:"",rounded:"",loading:t.loading},on:{click:t.createMap}},[t._v("\n                Добавить\n            ")])],1)],1)],1)}),[],!1,null,null,null),S=V.exports;function T(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function D(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?T(Object(r),!0).forEach((function(e){$(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function $(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}u()(V,{VAlert:d.a,VBtn:f.a,VCard:v.a,VCardActions:p.a,VCardText:p.b,VCol:b.a,VContainer:g.a,VDialog:m.a,VDivider:h.a,VFileInput:O.a,VForm:y.a,VIcon:_.a,VRow:j.a,VSpacer:w.a,VTextField:x.a,VTextarea:C.a,VToolbar:k.a,VToolbarTitle:P.a});var E={name:"Tours",components:{BreadcrumbsNavigation:o.a,CreateTourDialog:S},data:function(){return{firstLoading:!0}},computed:D(D({},Object(n.e)("tours",["tours"])),{},{last_section:function(){return void 0===this.tours.find((function(t){return!0===t.isSection}))}}),methods:D(D({},Object(n.b)("tours",{getToursAction:"getTours"})),{},{cardClickBehavior:function(t){t.isSection?this.$router.push({name:"Tours",params:{id:t.id}}):window.open(t.source_url)}}),created:function(){var t=this;this.getToursAction(this.$route.params.id).then((function(){t.firstLoading=!1}))},beforeRouteUpdate:function(t,e,r){this.getToursAction(t.params.id).then((function(){r()}))}},B=r(38),F=r(254),N=r(80),R=r(46),A=Object(c.a)(E,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.firstLoading?t._e():r("BreadcrumbsNavigation"),t._v(" "),r("v-row",{staticClass:"mb-6",attrs:{dense:""}},[t._l(t.tours,(function(e,n){return r("v-col",{key:e.title,staticClass:"text-center",attrs:{cols:t.$vuetify.breakpoint.xs?12:n%3?6:12}},[r("v-hover",{scopedSlots:t._u([{key:"default",fn:function(n){var o=n.hover;return[r("v-card",{staticClass:"overflow-hidden",staticStyle:{cursor:"pointer"},on:{click:function(r){return t.cardClickBehavior(e)}}},[r("v-img",{staticClass:"white--text align-end",attrs:{transition:"scale-transition",origin:"center center",height:"320px",src:e.image_url,alt:e.title,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)"}},[r("v-fade-transition",[o?t._e():r("v-card-title",{staticClass:"display-1",domProps:{textContent:t._s(e.title)}})],1)],1),t._v(" "),r("v-fade-transition",[o?r("v-overlay",{staticClass:"px-8",attrs:{absolute:"",color:"#036358"}},[r("div",{staticClass:"title mx-auto",domProps:{innerHTML:t._s(e.description)}})]):t._e()],1)],1)]}}],null,!0)})],1)})),t._v(" "),t.last_section&&!t.firstLoading?r("v-col",{staticClass:"text-center",attrs:{cols:t.$vuetify.breakpoint.xs||(t.tours.length+1)%3?12:6}},[r("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){e.hover;return[r("v-card",{staticClass:"overflow-hidden",staticStyle:{background:"none"},attrs:{flat:""}},[r("div",{staticStyle:{height:"320px",background:"linear-gradient(to bottom, rgba(0,0,0,.1), rgba(0,0,0,.3))"}}),t._v(" "),r("v-overlay",{attrs:{absolute:"",opacity:"0.2",color:"#036358"}},[r("div",{staticClass:"title mx-auto",staticStyle:{"max-width":"70%"}},[t._v("\n                            Поделитесь интересным местом с другими!\n                        ")]),t._v(" "),r("CreateTourDialog")],1)],1)]}}],null,!1,2372976977)})],1):t._e()],2)],1)}),[],!1,null,null,null);e.default=A.exports;u()(A,{VCard:v.a,VCardTitle:p.c,VCol:b.a,VFadeTransition:B.c,VHover:F.a,VImg:N.a,VOverlay:R.a,VRow:j.a})}}]);